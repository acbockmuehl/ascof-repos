<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ASCOF Measures 23/24</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-900 font-sans h-screen flex flex-col">
  <!-- Header -->
  <header class="p-6 border-b border-gray-200">
    <div class="max-w-screen-xl mx-auto">
      <h2 class="text-3xl text-red-500 font-semibold">ASCOF Measures 23/24</h2>
    </div>
  </header>

  <!-- Main Content -->
  <main class="flex-1 overflow-hidden">
    <div class="max-w-screen-xl mx-auto h-full flex flex-col lg:flex-row gap-6 p-6 h-full">
      <!-- Chart Area -->
      <div class="flex-1 bg-white p-6 rounded shadow-md overflow-hidden flex items-center justify-center">
        <div class="w-full h-full min-h-[400px]">
            <canvas id="paretoChart" class="w-full h-full !important"></canvas>
        </div>
      </div>

      <!-- Sidebar Filters -->
      <aside class="w-full lg:w-80 bg-white p-6 rounded shadow-md space-y-6 h-fit self-start">
        <!-- Measure Selector -->
        <div class="flex flex-col">
          <label for="measureSelect" class="mb-1 font-medium text-sm text-gray-700">Measure</label>
          <select id="measureSelect" class="p-2 rounded border border-gray-300 bg-white shadow-sm focus:ring-blue-500 focus:border-blue-500">
            {% for group in measure_groups %}
              <option value="{{ group }}">{{ group }}</option>
            {% endfor %}
          </select>
        </div>

        <!-- Region Selector -->
        <div class="flex flex-col">
          <label for="regionSelect" class="mb-1 font-medium text-sm text-gray-700">Region(s)</label>
          <select id="regionSelect" multiple class="p-2 rounded border border-grey-300 bg-white shadow-sm focus:ring-blue-500 focus:border-blue-500 h-32">
            {% for region in regions %}
              <option value="{{ region }}">{{ region }}</option>
            {% endfor %}
          </select>
        </div>

        <!-- Disaggregation Selector -->
        <div class="flex flex-col" id="disaggWrapper">
          <label for="disaggSelect" class="mb-1 font-medium text-sm text-gray-700">Disaggregation Level</label>
          <select id="disaggSelect" class="p-2 rounded border border-gray-300 bg-white shadow-sm focus:ring-blue-500 focus:border-blue-500">
            {% for d in disaggregations %}
              <option value="{{ d }}">{{ d }}</option>
            {% endfor %}
          </select>
        </div>
      </aside>
    </div>
  </main>

  <script src="/static/script.js"></script>
</body>
</html>


